@Library('shared-libot') _

tools {
    // Terraform plugin installation
    terraform 'terraform'
}

node {
    def url = params.URL ?: 'https://github.com/OT-MICROSERVICES/attendance-api.git'
    def branch = params.BRANCH ?: 'main'

    stage('Git Checkout') {
        generic.checkout(url, 'github-token1', branch)
    }
    stage('Terraform Init') {
        terraform.terraforminit('Autoscaling')
    }
    stage('Terraform Format') {
        terraform.terraformformat('Autoscaling')
    }
}
